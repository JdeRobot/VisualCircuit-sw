{"editor":{"id":"a1e762c6-650e-476b-8f57-49866a537f07","offsetX":0,"offsetY":0,"zoom":100,"gridSize":0,"layers":[{"id":"d187fcee-db45-4439-a675-7317feeb5500","type":"diagram-links","isSvg":true,"transformed":true,"models":{"e465cff6-4647-4245-85f9-49347a108485":{"id":"e465cff6-4647-4245-85f9-49347a108485","type":"default","selected":false,"source":"0001-13299f47-d3e7-4219-9049-d1eb028a7239","sourcePort":"431956fa-9412-4bf6-9c63-33c84d790d50","target":"a475fd56-9b23-4c5f-b78c-155569d6bc34","targetPort":"686c207a-866a-4b7d-b605-19f15086c49b","points":[{"id":"81fcaafa-24b3-4abd-ad13-1707432d39ea","type":"point","x":591,"y":124.69999694824219},{"id":"13c7dc16-10c5-4822-85ed-f84beb3df94b","type":"point","x":545.0625,"y":203.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"c2ec820c-e254-4091-9c3b-d7485546291d":{"id":"c2ec820c-e254-4091-9c3b-d7485546291d","type":"default","selected":false,"source":"0002-9803078b-2053-4844-8089-ca94ac7775d8","sourcePort":"d103cd15-42a7-43ef-9d8e-3e3f764124c0","target":"a475fd56-9b23-4c5f-b78c-155569d6bc34","targetPort":"0e82c7c5-aa93-4d57-84dc-bc13acefb362","points":[{"id":"2d97b172-0ec0-43ad-a05f-d790babd6ca8","type":"point","x":745,"y":124.69999694824219},{"id":"16e760f9-8366-4354-a0ff-52e066d42660","type":"point","x":825.8500366210938,"y":203.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"45af74e3-ca95-41e5-a9c6-09aae80f258a":{"id":"45af74e3-ca95-41e5-a9c6-09aae80f258a","type":"default","selected":false,"source":"eda3e103-a941-439c-8ab6-d569b87eb13f","sourcePort":"2ec44f84-0bf1-4f37-b77c-9c28799bff46","target":"a475fd56-9b23-4c5f-b78c-155569d6bc34","targetPort":"3fce118e-9f18-4852-8656-68f3a22cdf17","points":[{"id":"19dfcb12-f9ac-48da-94b5-7f27565920dc","type":"point","x":197.5,"y":337.6000061035156},{"id":"21919e17-a141-4035-b490-f5eed786d42d","type":"point","x":285.5,"y":338.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"2792e9d9-e038-4360-ac94-1bcaa0ace577":{"id":"2792e9d9-e038-4360-ac94-1bcaa0ace577","type":"default","selected":false,"source":"77707aac-0be2-4c8a-bb0d-a4fbeffd3927","sourcePort":"d0098e05-9aeb-4e01-b3e2-8f62a2c252a5","target":"a475fd56-9b23-4c5f-b78c-155569d6bc34","targetPort":"f0927333-52fd-4d0d-8dd0-5e4e91caa89b","points":[{"id":"40fbdd4b-19df-4f8e-94dd-04c57ff481e6","type":"point","x":198.5,"y":485.60003662109375},{"id":"dfff9de2-9f51-4051-a78c-2d078ad1c852","type":"point","x":285.5,"y":473.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"b57fd12c-fe8f-44c4-8905-612cdf01d997":{"id":"b57fd12c-fe8f-44c4-8905-612cdf01d997","type":"default","selected":false,"source":"a475fd56-9b23-4c5f-b78c-155569d6bc34","sourcePort":"a5024e7f-a121-4f6f-a611-3e40c3543cec","target":"9942e86f-e681-4325-97b2-d9747c9f2774","targetPort":"fca18b59-e641-48e6-af34-e291ffa75c06","points":[{"id":"58c88937-58ab-4324-b12e-de76209970ba","type":"point","x":1076.1624755859375,"y":406},{"id":"18907e82-74ce-438c-a40c-9960e1f2d642","type":"point","x":1149.5,"y":409.6000061035156}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"52e9a41a-9c3c-48de-b676-65b15766c5e5","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"0001-13299f47-d3e7-4219-9049-d1eb028a7239":{"id":"0001-13299f47-d3e7-4219-9049-d1eb028a7239","type":"basic.constant","selected":false,"x":530,"y":9,"ports":[{"id":"431956fa-9412-4bf6-9c63-33c84d790d50","type":"port.output","x":583.5,"y":117.19999694824219,"name":"constant-out","alignment":"bottom","parentNode":"0001-13299f47-d3e7-4219-9049-d1eb028a7239","links":["e465cff6-4647-4245-85f9-49347a108485"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Frequency","value":"30.0","local":true}},"0002-9803078b-2053-4844-8089-ca94ac7775d8":{"id":"0002-9803078b-2053-4844-8089-ca94ac7775d8","type":"basic.constant","selected":false,"x":684,"y":9,"ports":[{"id":"d103cd15-42a7-43ef-9d8e-3e3f764124c0","type":"port.output","x":737.5,"y":117.19999694824219,"name":"constant-out","alignment":"bottom","parentNode":"0002-9803078b-2053-4844-8089-ca94ac7775d8","links":["c2ec820c-e254-4091-9c3b-d7485546291d"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Linear","value":"5.0","local":true}},"a475fd56-9b23-4c5f-b78c-155569d6bc34":{"id":"a475fd56-9b23-4c5f-b78c-155569d6bc34","type":"basic.code","selected":false,"x":277,"y":195,"ports":[{"id":"3fce118e-9f18-4852-8656-68f3a22cdf17","type":"port.input","x":278,"y":331,"name":"Inp","alignment":"left","parentNode":"a475fd56-9b23-4c5f-b78c-155569d6bc34","links":["45af74e3-ca95-41e5-a9c6-09aae80f258a"],"in":true,"label":"Inp","hideLabel":false},{"id":"f0927333-52fd-4d0d-8dd0-5e4e91caa89b","type":"port.input","x":278,"y":466,"name":"E","alignment":"left","parentNode":"a475fd56-9b23-4c5f-b78c-155569d6bc34","links":["2792e9d9-e038-4360-ac94-1bcaa0ace577"],"in":true,"label":"E","hideLabel":false},{"id":"a5024e7f-a121-4f6f-a611-3e40c3543cec","type":"port.output","x":1068.6624755859375,"y":398.5,"name":"Out","alignment":"right","parentNode":"a475fd56-9b23-4c5f-b78c-155569d6bc34","links":["b57fd12c-fe8f-44c4-8905-612cdf01d997"],"in":false,"label":"Out","hideLabel":false},{"id":"686c207a-866a-4b7d-b605-19f15086c49b","type":"port.parameter","x":537.5625,"y":196,"name":"Frequency","alignment":"top","parentNode":"a475fd56-9b23-4c5f-b78c-155569d6bc34","links":["e465cff6-4647-4245-85f9-49347a108485"],"in":true,"label":"Frequency","hideLabel":false},{"id":"0e82c7c5-aa93-4d57-84dc-bc13acefb362","type":"port.parameter","x":818.3500366210938,"y":196,"name":"Linear","alignment":"top","parentNode":"a475fd56-9b23-4c5f-b78c-155569d6bc34","links":["c2ec820c-e254-4091-9c3b-d7485546291d"],"in":true,"label":"Linear","hideLabel":false}],"data":{"code":"import numpy as np\nfrom time import sleep\nfrom utils.wires.wire_str import read_string, share_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_string(input_wires[0])\n    output_0 = share_string(output_wires[0])\n    linear_velocity = float(parameters[1])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n    \n        while True:\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n\n                msg = input_0.get()\n        \n                # (x, y, width, height)\n                x, y = float(msg[0]), float(msg[1])\n                x1, y1 = x+float(msg[2]), y+float(msg[3])\n                \n                # Teleoperator Control Logic\n                \n                cx = (x+x1)/2.0\n                \n                if cx < 320:\n                    angular_velocity = -0.5\n                else:\n                    angular_velocity = 0.5\n                \n                data = []\n                data.extend((str(linear_velocity), str(angular_velocity)))\n                to_write = np.array(data, dtype='<U6')\n                output_0.add(to_write)\n                \n                control_data[0] += 1\n                \n            sleep(control_data[1])\n\n    except KeyboardInterrupt:\n    \n        input_0.release()\n        output_0.release()\n        enable_wire.release()","params":[{"name":"Frequency"},{"name":"Linear"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"749px","height":"362px"}}},"eda3e103-a941-439c-8ab6-d569b87eb13f":{"id":"eda3e103-a941-439c-8ab6-d569b87eb13f","type":"basic.input","selected":false,"x":104,"y":311,"ports":[{"id":"2ec44f84-0bf1-4f37-b77c-9c28799bff46","type":"port.output","x":190,"y":330.1000061035156,"name":"input-out","alignment":"right","parentNode":"eda3e103-a941-439c-8ab6-d569b87eb13f","links":["45af74e3-ca95-41e5-a9c6-09aae80f258a"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"Inp"}},"77707aac-0be2-4c8a-bb0d-a4fbeffd3927":{"id":"77707aac-0be2-4c8a-bb0d-a4fbeffd3927","type":"basic.input","selected":false,"x":105,"y":459,"ports":[{"id":"d0098e05-9aeb-4e01-b3e2-8f62a2c252a5","type":"port.output","x":191,"y":478.10003662109375,"name":"input-out","alignment":"right","parentNode":"77707aac-0be2-4c8a-bb0d-a4fbeffd3927","links":["2792e9d9-e038-4360-ac94-1bcaa0ace577"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"E"}},"9942e86f-e681-4325-97b2-d9747c9f2774":{"id":"9942e86f-e681-4325-97b2-d9747c9f2774","type":"basic.output","selected":true,"x":1140,"y":382,"ports":[{"id":"fca18b59-e641-48e6-af34-e291ffa75c06","type":"port.input","x":1142,"y":402.1000061035156,"name":"output-in","alignment":"left","parentNode":"9942e86f-e681-4325-97b2-d9747c9f2774","links":["b57fd12c-fe8f-44c4-8905-612cdf01d997"],"in":true,"label":"output-in","hideLabel":true}],"data":{"name":"Out"}}}}]},"version":"3.0","package":{"name":"Teleoperator","version":"1.0.0","description":"Teleoperation using Face Movement.","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyIDUxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggc3R5bGU9ImZpbGw6I0VBRUFFQTsiIGQ9Ik01MTIsOTUuMzl2MzIxLjIyMUM1MTIsNDM1LjEsNDk3LDQ1MC4xLDQ3OC41LDQ1MC4xSDMzLjQ4OEMxNC45ODksNDUwLjEsMCw0MzUuMDk5LDAsNDE2LjYxMlY5NS4zOQ0KCWMwLTE4LjUsMTQuOTg5LTMzLjQ4OCwzMy40ODgtMzMuNDg4aDQ0NS4wMTNDNDk3LDYxLjkwMSw1MTIsNzYuODkxLDUxMiw5NS4zOXoiLz4NCjxwYXRoIHN0eWxlPSJmaWxsOiNGQ0M2M0Q7IiBkPSJNNTEyLDk1LjM4OHY1Mi41ODVIMC4wMDJWOTUuMzg4YzAtMTguNSwxNC45ODktMzMuNDg4LDMzLjQ4OC0zMy40ODhINDc4LjUNCglDNDk3LDYxLjg5OSw1MTIsNzYuODg4LDUxMiw5NS4zODh6Ii8+DQo8Y2lyY2xlIHN0eWxlPSJmaWxsOiNGOTU3MkI7IiBjeD0iNTMuMzUzIiBjeT0iMTA0LjA5MiIgcj0iMTcuMjQ4Ii8+DQo8Y2lyY2xlIHN0eWxlPSJmaWxsOiNCQ0JDQkM7IiBjeD0iMTExLjQyOCIgY3k9IjEwNC4wOTIiIHI9IjE3LjI0OCIvPg0KPGNpcmNsZSBzdHlsZT0iZmlsbDojNDVCOEM0OyIgY3g9IjE2OS40OTMiIGN5PSIxMDQuMDkyIiByPSIxNy4yNDgiLz4NCjxwYXRoIHN0eWxlPSJmaWxsOiM0MjRDNTk7IiBkPSJNNjguOTY3LDQyNi4zMzhjLTQuMzI4LDAtNy44MzctMy41MDktNy44MzctNy44MzdWMTc2LjA4NGMwLTQuMzI4LDMuNTA5LTcuODM3LDcuODM3LTcuODM3DQoJczcuODM3LDMuNTA5LDcuODM3LDcuODM3djI0Mi40MTdDNzYuODAzLDQyMi44MjksNzMuMjk1LDQyNi4zMzgsNjguOTY3LDQyNi4zMzh6Ii8+DQo8Y2lyY2xlIHN0eWxlPSJmaWxsOiNGOTU3MkI7IiBjeD0iNjguOTYzIiBjeT0iMjU2LjU0MyIgcj0iMjIuOTg4Ii8+DQo8cGF0aCBzdHlsZT0iZmlsbDojNDI0QzU5OyIgZD0iTTEzOS40OTcsNDI2LjMzOGMtNC4zMjgsMC03LjgzNy0zLjUwOS03LjgzNy03LjgzN1YxNzYuMDg0YzAtNC4zMjgsMy41MDktNy44MzcsNy44MzctNy44MzcNCglzNy44MzcsMy41MDksNy44MzcsNy44Mzd2MjQyLjQxN0MxNDcuMzM0LDQyMi44MjksMTQzLjgyNSw0MjYuMzM4LDEzOS40OTcsNDI2LjMzOHoiLz4NCjxjaXJjbGUgc3R5bGU9ImZpbGw6I0Y5NTcyQjsiIGN4PSIxMzkuNDk0IiBjeT0iMzIzLjc2MiIgcj0iMjIuOTg4Ii8+DQo8cGF0aCBzdHlsZT0iZmlsbDojNDI0QzU5OyIgZD0iTTIxMC4wMjgsNDI2LjMzOGMtNC4zMjgsMC03LjgzNy0zLjUwOS03LjgzNy03LjgzN1YxNzYuMDg0YzAtNC4zMjgsMy41MDktNy44MzcsNy44MzctNy44MzcNCgljNC4zMjgsMCw3LjgzNywzLjUwOSw3LjgzNyw3LjgzN3YyNDIuNDE3QzIxNy44NjUsNDIyLjgyOSwyMTQuMzU2LDQyNi4zMzgsMjEwLjAyOCw0MjYuMzM4eiIvPg0KPGNpcmNsZSBzdHlsZT0iZmlsbDojRjk1NzJCOyIgY3g9IjIxMC4wMjUiIGN5PSIzNjYuMjU4IiByPSIyMi45ODgiLz4NCjxwYXRoIHN0eWxlPSJmaWxsOiM0MjRDNTk7IiBkPSJNNDY3LjA3NCwyMTMuMTc4SDI4OC4zOTdjLTQuMzI4LDAtNy44MzctMy41MDktNy44MzctNy44MzdjMC00LjMyOCwzLjUwOS03LjgzNyw3LjgzNy03LjgzN2gxNzguNjc4DQoJYzQuMzI4LDAsNy44MzcsMy41MDksNy44MzcsNy44MzdDNDc0LjkxMSwyMDkuNjY5LDQ3MS40MDIsMjEzLjE3OCw0NjcuMDc0LDIxMy4xNzh6Ii8+DQo8cGF0aCBzdHlsZT0iZmlsbDojNDVCOEM0OyIgZD0iTTM3Ni4xNjgsMjIzLjEwNGgtNTUuMjA5Yy0zLjg4NiwwLTcuMDM3LTMuMTUtNy4wMzctNy4wMzd2LTIxLjQ1M2MwLTMuODg2LDMuMTUtNy4wMzcsNy4wMzctNy4wMzcNCgloNTUuMjA5YzMuODg2LDAsNy4wMzcsMy4xNSw3LjAzNyw3LjAzN3YyMS40NTNDMzgzLjIwNSwyMTkuOTUzLDM4MC4wNTQsMjIzLjEwNCwzNzYuMTY4LDIyMy4xMDR6Ii8+DQo8cGF0aCBzdHlsZT0iZmlsbDojNDI0QzU5OyIgZD0iTTQ2Ny4wNzQsMjc1Ljg3MkgyODguMzk3Yy00LjMyOCwwLTcuODM3LTMuNTA5LTcuODM3LTcuODM3czMuNTA5LTcuODM3LDcuODM3LTcuODM3aDE3OC42NzgNCgljNC4zMjgsMCw3LjgzNywzLjUwOSw3LjgzNyw3LjgzN1M0NzEuNDAyLDI3NS44NzIsNDY3LjA3NCwyNzUuODcyeiIvPg0KPHBhdGggc3R5bGU9ImZpbGw6IzQ1QjhDNDsiIGQ9Ik00MzguODY1LDI4NS43OThoLTU1LjIwOWMtMy44ODYsMC03LjAzNy0zLjE1LTcuMDM3LTcuMDM3di0yMS40NTNjMC0zLjg4NiwzLjE1LTcuMDM3LDcuMDM3LTcuMDM3DQoJaDU1LjIwOWMzLjg4NiwwLDcuMDM3LDMuMTUsNy4wMzcsNy4wMzd2MjEuNDUzQzQ0NS45MDMsMjgyLjY0Nyw0NDIuNzUyLDI4NS43OTgsNDM4Ljg2NSwyODUuNzk4eiIvPg0KPHJlY3QgeD0iMjk0LjY2MiIgeT0iMzI1LjUwNyIgc3R5bGU9ImZpbGw6I0ZDQzYzRDsiIHdpZHRoPSIxNzguNjc4IiBoZWlnaHQ9Ijg3Ljk2Ii8+DQo8cGF0aCBzdHlsZT0iZmlsbDojRjk1NzJCOyIgZD0iTTM0MS42ODUsNDAwLjIxNWMtMi42NDgsMC01LjEyOS0xLjM0LTYuNTc5LTMuNThsLTkuMTc3LTE0LjE4M2gtMzEuMjYzDQoJYy00LjMyOCwwLTcuODM3LTMuNTA5LTcuODM3LTcuODM3czMuNTA5LTcuODM3LDcuODM3LTcuODM3aDM1LjUyN2MyLjY1OCwwLDUuMTM2LDEuMzQ4LDYuNTgsMy41OGw0LjA0MSw2LjI0NGwxNC43NjItMjkuNTI1DQoJYzEuMzcxLTIuNzQzLDQuMjE2LTQuNDM2LDcuMjc5LTQuMzI4YzMuMDY0LDAuMTA2LDUuNzg1LDEuOTg4LDYuOTY0LDQuODE4bDExLjYzNSwyNy45MjNsMTQuODQ0LTEyLjA4NQ0KCWMyLjk1OC0yLjQwOCw3LjIyLTIuMzM3LDEwLjA5NiwwLjE2OGwxNi4wODEsMTQuMDEybDExLjAxLTM0LjYwNGMwLjk5LTMuMTEsMy44MDEtNS4yOCw3LjA1OS01LjQ1DQoJYzMuMjY4LTAuMTY0LDYuMjgxLDEuNjk3LDcuNTg4LDQuNjg0bDEyLjU3NCwyOC43NDFoMTIuNjM4YzQuMzI4LDAsNy44MzcsMy41MDksNy44MzcsNy44MzdzLTMuNTA5LDcuODM3LTcuODM3LDcuODM3aC0xNy43NjMNCgljLTMuMTE0LDAtNS45MzItMS44NDMtNy4xOC00LjY5NmwtNi4yODktMTQuMzc2bC04LjMyMSwyNi4xNWMtMC44LDIuNTE1LTIuODEzLDQuNDU5LTUuMzU1LDUuMTcNCgljLTIuNTQsMC43MTItNS4yNzIsMC4wOTUtNy4yNjEtMS42MzdsLTIwLjEwMi0xNy41MTVsLTE3Ljg2OCwxNC41NDhjLTEuOTE4LDEuNTYyLTQuNDYsMi4xMjctNi44NTksMS41MjMNCgljLTIuMzk5LTAuNjAzLTQuMzcyLTIuMzAzLTUuMzIzLTQuNTg2bC05LjA4Ny0yMS44MTFsLTEzLjI0MSwyNi40ODFjLTEuMjU4LDIuNTE2LTMuNzY3LDQuMTY1LTYuNTc2LDQuMzIxDQoJQzM0MS45NzUsNDAwLjIxMSwzNDEuODMsNDAwLjIxNSwzNDEuNjg1LDQwMC4yMTV6Ii8+DQo8cGF0aCBzdHlsZT0iZmlsbDojMjM5OTk5OyIgZD0iTTQ3My4zNDQsNDIxLjI5NkgyOTQuNjY2Yy00LjMyOCwwLTcuODM3LTMuNTA5LTcuODM3LTcuODM3di04Ny45NTZjMC00LjMyOCwzLjUwOS03LjgzNyw3LjgzNy03LjgzNw0KCWgxNzguNjc4YzQuMzI4LDAsNy44MzcsMy41MDksNy44MzcsNy44Mzd2ODcuOTU2QzQ4MS4xODEsNDE3Ljc4Nyw0NzcuNjcyLDQyMS4yOTYsNDczLjM0NCw0MjEuMjk2eiBNMzAyLjUwMyw0MDUuNjIyaDE2My4wMDQNCglWMzMzLjM0SDMwMi41MDNWNDA1LjYyMnoiLz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjwvc3ZnPg0K"},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"0001-13299f47-d3e7-4219-9049-d1eb028a7239","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":530,"y":9}},{"id":"0002-9803078b-2053-4844-8089-ca94ac7775d8","type":"basic.constant","data":{"name":"Linear","value":"5.0","local":true},"position":{"x":684,"y":9}},{"id":"a475fd56-9b23-4c5f-b78c-155569d6bc34","type":"basic.code","data":{"code":"import numpy as np\nfrom time import sleep\nfrom utils.wires.wire_str import read_string, share_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_string(input_wires[0])\n    output_0 = share_string(output_wires[0])\n    linear_velocity = float(parameters[1])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n    \n        while True:\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n\n                msg = input_0.get()\n        \n                # (x, y, width, height)\n                x, y = float(msg[0]), float(msg[1])\n                x1, y1 = x+float(msg[2]), y+float(msg[3])\n                \n                # Teleoperator Control Logic\n                \n                cx = (x+x1)/2.0\n                \n                if cx < 320:\n                    angular_velocity = -0.5\n                else:\n                    angular_velocity = 0.5\n                \n                data = []\n                data.extend((str(linear_velocity), str(angular_velocity)))\n                to_write = np.array(data, dtype='<U6')\n                output_0.add(to_write)\n                \n                control_data[0] += 1\n                \n            sleep(control_data[1])\n\n    except KeyboardInterrupt:\n    \n        input_0.release()\n        output_0.release()\n        enable_wire.release()","params":[{"name":"Frequency"},{"name":"Linear"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"749px","height":"362px"}},"position":{"x":277,"y":195}},{"id":"eda3e103-a941-439c-8ab6-d569b87eb13f","type":"basic.input","data":{"name":"Inp"},"position":{"x":104,"y":311}},{"id":"77707aac-0be2-4c8a-bb0d-a4fbeffd3927","type":"basic.input","data":{"name":"E"},"position":{"x":105,"y":459}},{"id":"9942e86f-e681-4325-97b2-d9747c9f2774","type":"basic.output","data":{"name":"Out"},"position":{"x":1140,"y":382}}],"wires":[{"source":{"block":"0001-13299f47-d3e7-4219-9049-d1eb028a7239","port":"constant-out"},"target":{"block":"a475fd56-9b23-4c5f-b78c-155569d6bc34","port":"Frequency"}},{"source":{"block":"0002-9803078b-2053-4844-8089-ca94ac7775d8","port":"constant-out"},"target":{"block":"a475fd56-9b23-4c5f-b78c-155569d6bc34","port":"Linear"}},{"source":{"block":"eda3e103-a941-439c-8ab6-d569b87eb13f","port":"input-out"},"target":{"block":"a475fd56-9b23-4c5f-b78c-155569d6bc34","port":"Inp"}},{"source":{"block":"77707aac-0be2-4c8a-bb0d-a4fbeffd3927","port":"input-out"},"target":{"block":"a475fd56-9b23-4c5f-b78c-155569d6bc34","port":"E"}},{"source":{"block":"a475fd56-9b23-4c5f-b78c-155569d6bc34","port":"Out"},"target":{"block":"9942e86f-e681-4325-97b2-d9747c9f2774","port":"output-in"}}]}},"dependencies":{}}